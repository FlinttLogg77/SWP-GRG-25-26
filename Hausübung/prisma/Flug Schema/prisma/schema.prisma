datasource db {
    provider = "sqlite"
    url      = env("DATABASE_URL")
}

generator client {
    provider = "prisma-client"
    output   = "client"
    runtime  = "deno"
}

model Airport {
    id                 String   @id @default(uuid())
    name               String
    iataCode           String   @unique
    city               String
    departureFlights   Flight[] @relation("DepartureFlights")
    arrivalFlights     Flight[] @relation("ArrivalFlights")
}

model Airplane {
    id           String   @id @default(uuid())
    manufacturer String
    model        String
    capacity     Int
    flights      Flight[]
}

model Flight {
    id                   String   @id @default(uuid())
    flightNumber         String   @unique
    departureTime        DateTime
    arrivalTime          DateTime
    airplaneId           String
    airplane             Airplane @relation(fields: [airplaneId], references: [id])
    departureAirportId   String
    departureAirport     Airport  @relation("DepartureFlights", fields: [departureAirportId], references: [id])
    arrivalAirportId     String
    arrivalAirport       Airport  @relation("ArrivalFlights", fields: [arrivalAirportId], references: [id])
}